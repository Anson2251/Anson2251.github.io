(function(){const v=document.createElement("link").relList;if(v&&v.supports&&v.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))N(n);new MutationObserver(n=>{for(const f of n)if(f.type==="childList")for(const u of f.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&N(u)}).observe(document,{childList:!0,subtree:!0});function h(n){const f={};return n.integrity&&(f.integrity=n.integrity),n.referrerPolicy&&(f.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?f.credentials="include":n.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function N(n){if(n.ep)return;n.ep=!0;const f=h(n);fetch(n.href,f)}})();function j(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var D={},Z={get exports(){return D},set exports(m){D=m}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(m,v){(function(h){var N=2e3,n={s:1,n:0,d:1};function f(t,r){if(isNaN(t=parseInt(t,10)))throw c.InvalidParameter;return t*r}function u(t,r){if(r===0)throw c.DivisionByZero;var i=Object.create(c.prototype);i.s=t<0?-1:1,t=t<0?-t:t;var e=g(t,r);return i.n=t/e,i.d=r/e,i}function I(t){for(var r={},i=t,e=2,a=4;a<=i;){for(;i%e===0;)i/=e,r[e]=(r[e]||0)+1;a+=1+2*e++}return i!==t?i>1&&(r[i]=(r[i]||0)+1):r[t]=(r[t]||0)+1,r}var w=function(t,r){var i=0,e=1,a=1,l=0,d=0,B=0,H=1,y=1,s=0,o=1,L=1,M=1,P=1e7,E;if(t!=null)if(r!==void 0){if(i=t,e=r,a=i*e,i%1!==0||e%1!==0)throw c.NonIntegerParameter}else switch(typeof t){case"object":{if("d"in t&&"n"in t)i=t.n,e=t.d,"s"in t&&(i*=t.s);else if(0 in t)i=t[0],1 in t&&(e=t[1]);else throw c.InvalidParameter;a=i*e;break}case"number":{if(t<0&&(a=t,t=-t),t%1===0)i=t;else if(t>0){for(t>=1&&(y=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=y);o<=P&&M<=P;)if(E=(s+L)/(o+M),t===E){o+M<=P?(i=s+L,e=o+M):M>o?(i=L,e=M):(i=s,e=o);break}else t>E?(s+=L,o+=M):(L+=s,M+=o),o>P?(i=L,e=M):(i=s,e=o);i*=y}else(isNaN(t)||isNaN(r))&&(e=i=NaN);break}case"string":{if(o=t.match(/\d+|./g),o===null)throw c.InvalidParameter;if(o[s]==="-"?(a=-1,s++):o[s]==="+"&&s++,o.length===s+1?d=f(o[s++],a):o[s+1]==="."||o[s]==="."?(o[s]!=="."&&(l=f(o[s++],a)),s++,(s+1===o.length||o[s+1]==="("&&o[s+3]===")"||o[s+1]==="'"&&o[s+3]==="'")&&(d=f(o[s],a),H=Math.pow(10,o[s].length),s++),(o[s]==="("&&o[s+2]===")"||o[s]==="'"&&o[s+2]==="'")&&(B=f(o[s+1],a),y=Math.pow(10,o[s+1].length)-1,s+=3)):o[s+1]==="/"||o[s+1]===":"?(d=f(o[s],a),H=f(o[s+2],1),s+=3):o[s+3]==="/"&&o[s+1]===" "&&(l=f(o[s],a),d=f(o[s+2],a),H=f(o[s+4],1),s+=5),o.length<=s){e=H*y,a=i=B+e*l+y*d;break}}default:throw c.InvalidParameter}if(e===0)throw c.DivisionByZero;n.s=a<0?-1:1,n.n=Math.abs(i),n.d=Math.abs(e)};function b(t,r,i){for(var e=1;r>0;t=t*t%i,r>>=1)r&1&&(e=e*t%i);return e}function O(t,r){for(;r%2===0;r/=2);for(;r%5===0;r/=5);if(r===1)return 0;for(var i=10%r,e=1;i!==1;e++)if(i=i*10%r,e>N)return 0;return e}function T(t,r,i){for(var e=1,a=b(10,i,r),l=0;l<300;l++){if(e===a)return l;e=e*10%r,a=a*10%r}return 0}function g(t,r){if(!t)return r;if(!r)return t;for(;;){if(t%=r,!t)return r;if(r%=t,!r)return t}}function c(t,r){if(w(t,r),this instanceof c)t=g(n.d,n.n),this.s=n.s,this.n=n.n/t,this.d=n.d/t;else return u(n.s*n.n,n.d)}c.DivisionByZero=new Error("Division by Zero"),c.InvalidParameter=new Error("Invalid argument"),c.NonIntegerParameter=new Error("Parameters must be integer"),c.prototype={s:1,n:0,d:1,abs:function(){return u(this.n,this.d)},neg:function(){return u(-this.s*this.n,this.d)},add:function(t,r){return w(t,r),u(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(t,r){return w(t,r),u(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(t,r){return w(t,r),u(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(t,r){return w(t,r),u(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return u(this.s*this.n,this.d)},mod:function(t,r){if(isNaN(this.n)||isNaN(this.d))return new c(NaN);if(t===void 0)return u(this.s*this.n%this.d,1);if(w(t,r),n.n===0&&this.d===0)throw c.DivisionByZero;return u(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d)},gcd:function(t,r){return w(t,r),u(g(n.n,this.n)*g(n.d,this.d),n.d*this.d)},lcm:function(t,r){return w(t,r),n.n===0&&this.n===0?u(0,1):u(n.n*this.n,g(n.n,this.n)*g(n.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):u(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):u(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):u(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return u(this.s*this.d,this.n)},pow:function(t,r){if(w(t,r),n.d===1)return n.s<0?u(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):u(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var i=I(this.n),e=I(this.d),a=1,l=1;for(var d in i)if(d!=="1"){if(d==="0"){a=0;break}if(i[d]*=n.n,i[d]%n.d===0)i[d]/=n.d;else return null;a*=Math.pow(d,i[d])}for(var d in e)if(d!=="1"){if(e[d]*=n.n,e[d]%n.d===0)e[d]/=n.d;else return null;l*=Math.pow(d,e[d])}return n.s<0?u(l,a):u(a,l)},equals:function(t,r){return w(t,r),this.s*this.n*n.d===n.s*n.n*this.d},compare:function(t,r){w(t,r);var i=this.s*this.n*n.d-n.s*n.n*this.d;return(0<i)-(i<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var r=this.abs(),i=r.toContinued(),e=1;e<i.length;e++){for(var a=u(i[e-1],1),l=e-2;l>=0;l--)a=a.inverse().add(i[l]);if(a.sub(r).abs().valueOf()<t)return a.mul(this.s)}return this},divisible:function(t,r){return w(t,r),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var r,i="",e=this.n,a=this.d;return this.s<0&&(i+="-"),a===1?i+=e:(t&&(r=Math.floor(e/a))>0&&(i+=r,i+=" ",e%=a),i+=e,i+="/",i+=a),i},toLatex:function(t){var r,i="",e=this.n,a=this.d;return this.s<0&&(i+="-"),a===1?i+=e:(t&&(r=Math.floor(e/a))>0&&(i+=r,e%=a),i+="\\frac{",i+=e,i+="}{",i+=a,i+="}"),i},toContinued:function(){var t,r=this.n,i=this.d,e=[];if(isNaN(r)||isNaN(i))return e;do e.push(Math.floor(r/i)),t=r%i,r=i,i=t;while(r!==1);return e},toString:function(t){var r=this.n,i=this.d;if(isNaN(r)||isNaN(i))return"NaN";t=t||15;var e=O(r,i),a=T(r,i,e),l=this.s<0?"-":"";if(l+=r/i|0,r%=i,r*=10,r&&(l+="."),e){for(var d=a;d--;)l+=r/i|0,r%=i,r*=10;l+="(";for(var d=e;d--;)l+=r/i|0,r%=i,r*=10;l+=")"}else for(var d=t;r&&d--;)l+=r/i|0,r%=i,r*=10;return l}},Object.defineProperty(c,"__esModule",{value:!0}),c.default=c,c.Fraction=c,m.exports=c})()})(Z);const $=j(D);class p{constructor(v,h,N,n){this.a=v,this.b=h,this.c=N,this.d=n}getHTMLCode(){let v="",h="",N="",n="";this.a.valueOf()!==0&&(v=`${p.fractiontoHTMLCode(this.a)}`),this.b.valueOf()!==0&&(h=`${p.fractiontoHTMLCode(this.b)}`),this.c.valueOf()!==0&&(N=`${p.fractiontoHTMLCode(this.c)}`),this.d.valueOf()!==0&&(n=`${p.fractiontoHTMLCode(this.d)}`);let f=`${v?v+"n<sup>3</sup>":""} ${h?h+"n<sup>2</sup>":""} ${N?N+"n":""} ${n}`.trim();if(f[0]==="+"){let u=f.split("");u.shift(),f=u.join("")}return`n<sup>th</sup>&ensp;term = ${f}`}}(m=>{function v(n,f,u,I){const w=new $(I/6),b=new $(u).sub(w.mul(12)).div(2),O=new $(f).sub(w.mul(7).add(b.mul(3))),T=new $(n).sub(w.add(b).add(O));return new m(w,b,O,T)}m.fromDiff=v;function h(n){return new $(n)}m.toFraction=h;function N(n){let f=`
        <span class="fraction">
            ${Math.abs(n.d)!==1?`<span class="numerator">${n.n}</span>
                    <span class="denominator">${n.d}</span>
                    `:`<span class="number">${n.n}</span>`}
        </span>`;return n.s<0?f="-"+f:f="+"+f,f}m.fractiontoHTMLCode=N})(p||(p={}));const A=p;class C{constructor(v,h){this.fstItem=v,this.ratio=h}getHTMLCode(){let v="";return v=`
            ${this.fstItem!==1&&this.ratio.valueOf()!==this.fstItem?`${this.fstItem} · `:""}
            ${C.fractiontoHTMLCode(this.ratio)}
            <sup>n${this.ratio.valueOf()!==this.fstItem?"-1":""}</sup>`,`n<sup>th</sup>&ensp;term = ${v}`}}(m=>{function v(n){let f=0;for(let u=0;u<n.length-1;u++)if(f===0)f=n[u+1]/n[u];else if(f!==n[u+1]/n[u])return!1;return!0}m.isGeometric=v;function h(n){return`
        <span class="fraction">
            ${Math.abs(n.d)!==1?`<span class="numerator">${n.n}</span>
                    <span class="denominator">${n.d}</span>
                    `:`<span class="number">${n.n}</span>`}
        </span>`}m.fractiontoHTMLCode=h;function N(n){return new m(n[0],new $(n[1]/n[0]))}m.fromSequence=N})(C||(C={}));const F=C;function G(m,v){if(!v)return;let h=JSON.parse(`[${m}]`);if(!h[0]&&h[0]!==0){alert("参数错误");return}let N=[h[1]-h[0],h[2]-h[1],h[3]-h[2]],n=[N[1]-N[0],N[2]-N[1]],f=[n[1]-n[0]];v.innerHTML=A.fromDiff(h[0],N[0],n[0],f[0]).getHTMLCode(),F.isGeometric(h)&&(v.innerHTML=F.fromSequence(h).getHTMLCode())}var x;(x=document.getElementById("calc-button"))==null||x.addEventListener("click",()=>{G(document.getElementById("sequence-data").value,document.getElementById("nth-term-data"))});
